<!-- saved from url=(0022)http://internet.e-mail -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<link href='../css/pageframe.css' type='text/css' rel='stylesheet'>
<script type='text/javascript' src='../js/jquery.tools.min.js'></script>	
<script type="text/javascript" src='../js/jquery.cookie.js'></script>
<script type="text/javascript" src='../js/jquery.validate.min.js'></script>
<script type="text/javascript" src='../js/jquery.stylish-select.min.js'></script>
<script type="text/javascript" src="../js/jquery-ui.min.js"></script>
<style>
body{}
.dotline { width:600px; margin-left:30px;}
.dragContainer{width:222px;height:38px;overflow:hidden;position:relative;}
.voldragDiv{width:200px;height:22px;background: url("../img/settings_volume_none.png") no-repeat 0 8px;position:absolute;top:-8px;left: 10px;margin-top:22px !important;}
.volimg{width:22px;height:22px;background:url("../img/settings_volume_button.png") no-repeat;position:absolute;left:0px;top: -8px;margin-top:22px !important;}
.volchangeDiv{height:6px;background:#2C9BEA;position:absolute;top:0px;left: 10px;border-radius:2px;width:0px;*overflow:hidden;margin-top:22px !important;}
.volspan{width:22px;height:6px;color:#777;font-size:14px;position: relative;top:-15px;display: inline-block;text-align: center;}
.startspan,.endspan{width: auto;margin-top: 22px !important;width:35px;}
#screenContainer{overflow: visible;width:222px;}
#screenPercentDiv{width:100%;}
</style>
<body id="framebody">
<div id="mainbody" class="maindiv">
    <div class="navi"><span id="a_device">Device Manager</span></div>
    <div id="statusdiv"></div>
    <form action="" method="get" id="Formvalidate">
        <fieldset>
            <div class="titlediv">
                <div class="titleboot"><span id="a_hdmititle">HDMI</span></div>
            </div>
            <div webtip="HDMI 1 Out Resolution" style="margin-bottom: 0px;">
                <div class="noreboot"><span id="a_HDMIoutresolution">HDMI 1 out resolution</span> :</div>
                <select id="himioutresolution" name="himioutresolution">
                    <!--option value="1034">1080P 60HZ</option>
                    <option value="1033">1080P 50HZ</option>
                    <option value="1029">720P 60HZ</option>
                    <option value="1028">720P 50HZ</option-->
                    <!--<option value="1027">576P 50HZ</option>
                    <option value="1026">480P 60HZ</option>-->
                </select>
            </div>
            <div webtip="HDMI 2 Out Resolution" style="margin-bottom: 0px;">
                <div class="noreboot"><span id="a_HDMI2outresolution">HDMI 2 out resolution</span> :</div>
                <select id="himi2outresolution" name="himi2outresolution">
                    <!--option value="10">1080P 60HZ</option>
                    <option value="9">1080P 50HZ</option>
                    <option value="6">720P 60HZ</option>
                    <option value="5">720P 50HZ</option-->
                </select>
            </div>
            <!--div webtip="Screen Percent" style="margin-top:0px">
                <div class="noreboot" style="margin-top:21px !important;"><span id="a_screenpercent">Screen Percent</span> :</div>
                <div class="startspan">90%</div>
                <div class="dragContainer" id="screenContainer">
                    <div id="screenPercentDiv" class="dragDiv">
                        <div class="voldragDiv"></div>
                        <div class="volchangeDiv"></div>
                        <div class="volimg"><span class="volspan"></span></div>
                    </div>
                </div>
                <div class="endspan">100%</div>
            </div-->
            <div webtip="Enable Presentation Automatically When HDMI Plugged">
                <div class="noreboot"><span id="a_enablepreauto">Enable Presentation Automatically When HDMI Plugged</span> :</div>
                <input name="enablepreauto" type="checkbox" id="enablepreauto"><span class="a_enablepreautoyes">Yes</span>
            </div>
            <div class="titlediv">
                <div class="titleboot"><span id="a_ptztitle">Camera</span></div>
            </div>
            <div webtip="Move Speed" style="margin-top:0px;margin-bottom:0px;">
                <div class="noreboot" style="margin-top:21px !important;"><span id="a_mobilespeed">Mobile speed</span> :</div>
                <div class="startspan" id="a_speedslow">1(slow)</div>
                <div class="dragContainer" id="mobilespeedContainer">
                    <div id="dragmobilespeedDiv" class="dragDiv">
                        <div class="voldragDiv"></div>
                        <div class="volchangeDiv"></div>
                        <div class="volimg"><span class="volspan"></span></div>
                    </div>
                </div>
                <div class="endspan" id="a_speedfast">16(fast)</div>
            </div>
            <div webtip="Initial Position">
                <div class="noreboot"><span id="a_initposition">The initial position</span> :</div>
                <select id="initposition" name="initposition">
                    <option value="0">Default</option>
                    <option value="100">Position when power off</option>
                </select>
            </div>
            <div webtip="Visual Angle" style="margin-top:0px;margin-bottom:0px;display:none;" id="visualanglediv">
                <div class="noreboot" style="margin-top:21px !important;"><span id="a_visualangle">Visual Angle</span> :</div>
                <div class="startspan" id="a_anglesmall" style="text-align:center;">small</div>
                <div class="dragContainer" id="visualAngleContainer">
                    <div id="dragvisualAngleDiv" class="dragDiv">
                        <div class="voldragDiv"></div>
                        <div class="volchangeDiv"></div>
                        <div class="volimg"><span class="volspan"></span></div>
                    </div>
                </div>
                <div class="endspan" id="a_anglelarge" style="text-align:center;">large</div>
            </div>
            <div style="display:none">
                <div><input id="initposparam" type="text" value=""/></div>
            </div>
            <div class="titlediv" style="display:none;">
                <div class="titleboot"><span id="a_offsettitle">Image Offset</span></div>
            </div>
            <div webtip="Image Shift" style="margin-bottom:0px;position:relative;width:730px;display:none;">
                <div class="noreboot"><span id="a_imgshift">Image shift</span> :</div>
                <input name="imgshift" value="0" checked="checked" type="radio" id="horoffset"><span id="a_horoffset">Horizontal Offset</span>
                <input name="imgshift" value="1" type="radio" id="veroffset"><span id="a_veroffset">Vertical Offset</span>
            </div>
            <div webtip="VGA In " id="horizontal_vga" style="margin-top:0px;display:none;">
                <div class="noreboot" style="margin-top:21px !important;"><span class="a_vgain">VGA IN</span> :</div>
                <div class="startspan">0</div>
                <div class="dragContainer" id="HorizontalContainer">
                    <div id="dragHorizontalDiv" class="dragDiv">
                        <div class="voldragDiv"></div>
                        <div class="volchangeDiv"></div>
                        <div class="volimg"><span class="volspan"></span></div>
                    </div>
                </div>
                <div class="endspan">32</div>
            </div>
            <div webtip="VGA In " id="vertical_vga" style="margin-top:0px;display:none;">
                <div class="noreboot" style="margin-top:21px !important;"><span class="a_vgain">VGA IN</span> :</div>
                <div class="startspan">0</div>
                <div class="dragContainer" id="VerticalContainer">
                    <div id="dragVerticalDiv" class="dragDiv">
                        <div class="voldragDiv"></div>
                        <div class="volchangeDiv"></div>
                        <div class="volimg"><span class="volspan"></span></div>
                    </div>
                </div>
                <div class="endspan">32</div>
            </div>
            <div class="titlediv" style="display:none;">
                <div class="titleboot"><span id="a_phasetitle">Sampling Phase</span></div>
            </div>
            <div webtip="Sampling Phase's VGA IN" style="margin-top:-5px;display:none;">
                <div class="noreboot" style="margin-top:21px !important;"><span id="a_samplevgain">Sampling Phase</span> :</div>
                <div class="startspan">0</div>
                <div class="dragContainer" id="SamplephaseContainer">         
                    <div id="dragSamplevgainDiv" class="dragDiv">
                        <div class="voldragDiv"></div>
                        <div class="volchangeDiv"></div>
                        <div class="volimg"><span class="volspan"></span></div>
                    </div>
                </div>
                <div class="endspan">32</div>
            </div>
            <!--div class="titlediv">
                <div class="titleboot"><span id="a_indtortitle">OLED Indicator</span></div>
            </div>
            <div webtip="Disable Missed Call OLED Indicator">
				<div class="noreboot"><span id="a_dismissindtor">Disable Missed Call OLED Indicator</span> :</div>
				<input name="dismissindtor" type="checkbox" id="dismissindtor"><span class="a_disindtoryes">Yes</span>
			</div>
			<div webtip="Disable MWI OLED Indicator">
				<div class="noreboot"><span id="a_dismwiindtor">Disable MWI OLED Indicator</span> :</div>
				<input name="dismwiindtor" type="checkbox" id="dismwiindtor"><span class="a_disindtoryes">Yes</span>
			</div>
			<div webtip="Disable New Message OLED Indicator">
				<div class="noreboot"><span id="a_disnewmsgindtor">Disable New Message OLED Indicator</span> :</div>
			   	<input name="disnewmsgindtor" type="checkbox" id="disnewmsgindtor"><span class="a_disindtoryes">Yes</span>
			</div>
			<div webtip="Disable Contact Full OLED Indicator">
				<div class="noreboot"><span id="a_disfullindtor">Disable Contact Full OLED Indicator</span> :</div>
				<input name="disfullindtor" type="checkbox" id="disfullindtor"><span class="a_disindtoryes">Yes</span>
			</div-->
            
        </fieldset>
        <div class="savediv">
            <button id="a_save" type="button" class="savebtn">Save</button>
            <button id="a_cancel" type="reset" class="cancelbtn">Cancel</button>
        </div>
    </form>

</div>
<input type="text" id="movespeed" style="display:none;" />
<input type="text" id="visualangle" style="display:none;" />
<script type="text/javascript">
	var cookie_lang = $.cookie( "MyLanguage");
    var version = $.cookie("ver");
    if ( !cookie_lang ){
        cookie_lang = 'en';
	}
    if ( cookie_lang == 'zh' ){
        document.write("<script src='../js/jquery.validate.messages_cn.js'><\/script>");
	}
    if(!version)
        version = new Date().getTime();
    document.write("<script src='../js/public.js?ver=" + version + "'><\/script>");
    document.write("<script src='../lang/" + cookie_lang + ".js?ver=" + version + "'><\/script>");

</script>
<script type="text/javascript">
var g_actype = $.cookie('type');
if (typeof g_actype == "undefined" || !g_actype) {
    g_actype = "user";
}

if (g_actype.toLowerCase() == 'user') {
    $("#a_hdmititle").parent().parent().hide();
    $("#a_ptztitle").parent().parent().hide();
    $("#a_mobilespeed").parent().parent().hide();
    $("#a_initposition").parent().parent().hide();
}
</script>
<script type="text/javascript">
var bar_items = new Array;
var req_items = new Array;
var mCmrparam = new Array;
req_items.push(
    //new ReqItem("himi2outresolution", "25105", ""),
	new ReqItem("movespeed", "25029", ""),
	new ReqItem("initposition", "25030", ""),
    new ReqItem("visualangle", "distortion", ""),
	/*new ReqItem("dismissindtor", "1691", ""),
	new ReqItem("dismwiindtor", "1692", ""),
	new ReqItem("disnewmsgindtor", "1693", ""),
	new ReqItem("disfullindtor", "1694", ""),*/
    new ReqItem("enablepreauto", "25109", ""),
    new ReqItem("initposparam", "camera_boot_position", "")
);
var mVgasendTimer = 0;
var mHDMIMode = -1;
var mHDMI2Mode = -1;
var mScreenAction;
var mInitposition;

$(function(){
    translate_device();
    cb_get_action("getpresetinfo&region=control");
    cb_get(req_items);
    cb_get_action("gethdmiconnectstatus&region=advanset");
    cb_get_action("getlentype&region=advanset");
    /*cb_get_action("vgaread&region=webservice&type=0");
    cb_get_action("vgaread&region=webservice&type=1");
    cb_get_action("vgaread&region=webservice&type=2");*/
    //cb_get_action("getptz&region=advanset");
    pageEventActions();
});

function get_item_suc_callback(msgs) {
    mInitposition = $("#initposition").val();
    $("#initposition").sSelect({ddMaxHeight:'250px'});
    var curspeed = $("#movespeed").val();
    $("#dragmobilespeedDiv .volspan").text(parseInt(curspeed));
        
    $("#dragmobilespeedDiv .volimg").draggable({ 
        cursor: "move", 
        axis:"x", 
        containment: $("#mobilespeedContainer.dragContainer"),
        create:function(event,ui){
            var width = (parseInt(curspeed)-1) / 15 * 200;
            $(this).css("left",width);
            $(this).prev(".volchangeDiv").css("width",width);
        },
        drag:function(event,ui){
            $(this).prev(".volchangeDiv").css("width",ui.position.left);
            //console.log(ui.position.left);
            var vol = (15/200)*ui.position.left;
            $(this).children(".volspan").text(fomatFloat(vol,0)+1);
        }
    });
    
    var visualangle = $("#visualangle").val();
    if(!visualangle) visualangle = 170;
        
    $("#dragvisualAngleDiv .volimg").draggable({ 
        cursor: "move", 
        axis:"x", 
        containment: $("#visualAngleContainer.dragContainer"),
        create:function(event,ui){
            var width = (170 - parseInt(visualangle)) / 40 * 200;
            $(this).css("left",width);
            $(this).prev(".volchangeDiv").css("width",width);
        },
        drag:function(event,ui){
            $(this).prev(".volchangeDiv").css("width", ui.position.left);
        },
        stop:function(event,ui){
            var angle = 170 - Math.round(ui.position.left / 200 * 40);
            cb_get_action("setvisualangle&region=advanset&angle=" + angle);
        }
    });
}
function cb_get_action_done(data, action){
    if( data.substring(0, 1) == "{" ){
        if( action == "getdisplayinfo&region=advanset" ){
            var tObj = eval("(" + data + ")");
            if( tObj.res == "success" ){
                mHDMIMode = tObj.curFormat;
                $("#himioutresolution").getSetSSValue(mHDMIMode);
                var curpercent = tObj.curPercent;
                $("#screenPercentDiv .volimg").draggable({ 
                    cursor: "move", 
                    axis:"x", 
                    containment: $("#screenContainer.dragContainer"),
                    create:function(event,ui){
                        var width = (parseInt(curpercent)-90) / 10 * 200;
                        $(this).css("left",width);
                        $(this).prev(".volchangeDiv").css("width",width);
                        $(this).children(".volspan").text(curpercent+"%");
                    },
                    drag:function(event,ui){
                        if(mVgasendTimer > 0) 
                            clearTimeout(mVgasendTimer);

                        if(ui.position.left > 200)
                            ui.position.left = 200;
                        $(this).prev(".volchangeDiv").css("width",ui.position.left);
                        //console.log(ui.position.left);
                        var vol = (10/200)*ui.position.left;
                        var percent = fomatFloat(vol,0)+90;
                        $(this).children(".volspan").text(percent+"%");
                        mScreenAction = "setdisplaypercent&region=advanset&percent="+percent;
                        mVgasendTimer = setTimeout("cb_screen_bytimer();", 350);
                    }
                });
            }
        }else if(action.indexOf("gethdmiconnectstatus") != -1){
            var tObj = eval("(" + data + ")");
            if(tObj.res == "success"){
                var hdmi1 = tObj.hdmi1;
                var hdmi2 = tObj.hdmi2;
                
                if(hdmi1 == "true"){
                    cb_get_action("gethdmimodes&region=advanset&hdmi=hdmi1");
                }
                else{
                    $("#himioutresolution option").remove();
                    var newoption = "<option value='-1'>" + a_9717 + "</option>";
                    $("#himioutresolution").append(newoption);
                    $("#himioutresolution").sSelect({ddMaxHeight:'250px'});
                }
                
                if(hdmi2 == "true"){
                    cb_get_action("gethdmimodes&region=advanset&hdmi=hdmi2");
                }
                else{
                    $("#himi2outresolution option").remove();
                    var newoption = "<option value='-1'>" + a_9717 + "</option>";
                    $("#himi2outresolution").append(newoption);
                    $("#himi2outresolution").sSelect({ddMaxHeight:'250px'});
                }
            }
        }else if(action.indexOf("gethdmimodes") != -1){
            var tObj = eval("(" + data + ")");
            if(tObj.res == "success"){
                if(action.indexOf("hdmi1") != -1){
                    var modes = tObj.modes.split(",");
                    for(var i = 0; i < modes.length; i++){
                        if(modes[i].indexOf("-P") != -1){
                            modes[i] = modes[i].substring(0, modes[i].length - 2);
                            modes[i] += "(" + a_12100 + ")";
                        }

                        var newoption = "<option value=" + i + ">" + modes[i] + "</option>";
                        $("#himioutresolution").append(newoption);
                    }
                    $("#himioutresolution").sSelect({ddMaxHeight:'250px'});
                    cb_get_action("getcurhdmimode&region=advanset&hdmi=hdmi1");
                }
                else if(action.indexOf("hdmi2") != -1){
                    var modes = tObj.modes.split(",");
                    for(var i = 0; i < modes.length; i++){
                        if(modes[i].indexOf("-P") != -1){
                            modes[i] = modes[i].substring(0, modes[i].length - 2);
                            modes[i] += "(" + a_12100 + ")";
                        }
                        
                        var newoption = "<option value=" + i + ">" + modes[i] + "</option>";
                        $("#himi2outresolution").append(newoption);
                    }
                    $("#himi2outresolution").sSelect({ddMaxHeight:'250px'});
                    cb_get_action("getcurhdmimode&region=advanset&hdmi=hdmi2");
                }
            }
        }else if(action.indexOf("getcurhdmimode") != -1){
            var tObj = eval("(" + data + ")");
            if(tObj.res == "success"){
                var mode = tObj.mode;
                if(action.indexOf("hdmi1") != -1){
                    mHDMIMode = mode;
                    $("#himioutresolution").getSetSSValue(mode);
                }
                else if(action.indexOf("hdmi2") != -1){
                    mHDMI2Mode = mode;
                    $("#himi2outresolution").getSetSSValue(mode);
                }
            }
        }else if( action.indexOf("setdisplayinfo") != -1 ){
            var tObj = eval("(" + data + ")");
            if( tObj.res == "success" ){
                mHDMIMode = $("#himioutresolution").val();
                cb_put(req_items, "", 0);
                //cb_get_action("setptz&region=advanset&movespeed=" + $(".volspan").text() + "&initpos=" + $("#initposition").val());
            }else{
                view_message(a_16005+a_12017, MSG_ALERT);
            }
        }/*else if(action.indexOf("vgaread") != -1)
        {
            var tObj = eval("(" + data + ")");
            var item = tObj.Data;
            if( tObj.Response == "Success" ){
                if(item[0].type == "0")
                {
                    var Vertical = parseInt(item[0].vertical);
                    $("#dragVerticalDiv .volimg").draggable({ 
                        cursor: "move", 
                        axis:"x", 
                        containment: $("#VerticalContainer.dragContainer"),
                        create:function(event,ui){
                            var width = Vertical*(200/15)
                            $(this).parent().parent().siblings(".startspan").text(0);
                            $(this).parent().parent().siblings(".endspan").text(15);
                            $(this).css("left",width);
                            $(this).prev(".volchangeDiv").css("width",width);
                            $(this).children(".volspan").text(Vertical);
                        },
                        drag:function(event,ui){
                            if(mVgasendTimer > 0) 
                                clearTimeout(mVgasendTimer);
                            $(this).prev(".volchangeDiv").css("width",ui.position.left);
                            //console.log(ui.position.left);
                            var vol = (15/200)*ui.position.left;
                            vol = fomatFloat(vol,0);
                            $(this).children(".volspan").text(vol);
                            mVgaAction = "action=vgasend&region=webservice&type=0&value="+vol;
                            mVgasendTimer = setTimeout("cb_vgasend_bytimer();", 350);
                            //cb_action_vgasend(urihead);
                        }
                    });
                }
                else if(item[0].type == "1")
                {
                    var Horizontal = parseInt(item[0].horizontal);
                    $("#dragHorizontalDiv .volimg").draggable({ 
                        cursor: "move", 
                        axis:"x", 
                        containment: $("#HorizontalContainer.dragContainer"),
                        create:function(event,ui){
                            var width = (Horizontal+60)*(200/120)
                            $(this).parent().parent().siblings(".startspan").text(-60);
                            $(this).parent().parent().siblings(".endspan").text(60);
                            $(this).css("left",width);
                            $(this).prev(".volchangeDiv").css("width",width);
                            $(this).children(".volspan").text(Horizontal);
                        },
                        drag:function(event,ui){
                            if(mVgasendTimer > 0) 
                                clearTimeout(mVgasendTimer);
                            $(this).prev(".volchangeDiv").css("width",ui.position.left);
                            //console.log(ui.position.left);
                            var vol = (120/200)*ui.position.left;
                            vol = fomatFloat(vol,0);
                            vol = vol - 120/2;
                            $(this).children(".volspan").text(vol);
                            mVgaAction = "action=vgasend&region=webservice&type=1&value="+vol;
                            mVgasendTimer = setTimeout("cb_vgasend_bytimer();", 350);
                            //cb_action_vgasend(urihead);
                        }
                    });
                }
                else if(item[0].type == "2")
                {
                    var sample = parseInt(item[0].sampling);
                    $("#dragSamplevgainDiv .volimg").draggable({ 
                        cursor: "move", 
                        axis:"x", 
                        containment: $("#SamplephaseContainer.dragContainer"),
                        create:function(event,ui){
                            var width = sample*(200/32);
                            $(this).parent().parent().siblings(".startspan").text(0);
                            $(this).parent().parent().siblings(".endspan").text(32);
                            $(this).css("left",width);
                            $(this).prev(".volchangeDiv").css("width",width);
                            $(this).children(".volspan").text(sample);
                        },
                        drag:function(event,ui){
                            if(mVgasendTimer > 0) 
                                clearTimeout(mVgasendTimer);
                            $(this).prev(".volchangeDiv").css("width",ui.position.left);
                            //console.log(ui.position.left);
                            var vol = (32/200)*ui.position.left;
                            vol = fomatFloat(vol,0);
                            $(this).children(".volspan").text(vol);
                            mVgaAction = "action=vgasend&region=webservice&type=2&value="+vol;
                            mVgasendTimer = setTimeout("cb_vgasend_bytimer();", 350);
                            //cb_action_vgasend(urihead);
                        }
                    });
                }
            }
        }*/
        else if( action == "getpresetinfo&region=control" ){
            var tObj = eval("(" + data + ")");
            if( tObj.Response == "success" ){
                var presetItem = tObj.Data;
                for(var i = 0; i < presetItem.length; i++){
                    var presetNum = parseInt(presetItem[i]["position"]) + 1;
                    if(presetNum < 25){
                        var presetName = presetItem[i]["name"];
                        var optionItem = document.createElement("OPTION");
                        optionItem.setAttribute("value", presetNum);
                        if (presetName == "")
                            optionItem.innerHTML = a_10024 + presetNum;
                        else
                            optionItem.innerHTML = a_10024 + presetNum + "(" + presetName + ")";
                        $("#initposition").append(optionItem);
                    }
                    
                    var cmrparam = presetItem[i].cmrparam;
                    mCmrparam[0] = "0,0,3840,2160";
                    if(presetNum < 25){
                        mCmrparam[presetNum] = cmrparam;
                    }
                    else{
                        mCmrparam[100] = cmrparam;
                    }
                }
            }
        }
    }else{
        var msgs = res_parse_rawtext(data);
        cb_if_auth_fail(msgs);
        if (cb_is_fail(msgs)){}   
        else {
            if( action.indexOf("getptz") != -1 ){
                
            } else if (action.indexOf("getlentype") != -1) {
                var lentype = msgs.headers['len'];
                if (lentype == "Trace Optical") {
                    $("#visualanglediv").show();
                }
            }
        }
    }
}
function translate_device(){
    $("#a_device").text(a_16032);
    $(".a_disindtoryes, .a_enablepreautoyes").text(a_5);
    $("#a_dismissindtor").text(a_16380);
	$("#a_dismwiindtor").text(a_16381);
	$("#a_disnewmsgindtor").text(a_16382);
	$("#a_disfullindtor").text(a_16383);
	$("#a_ptztitle").text(a_10007);
	$("#a_speedslow").text("1("+a_16242+")");
    $("#a_speedfast").text("16("+a_16241+")");
    $("#initposition option:eq(0)").text(a_17026);
    $("#initposition option:eq(1)").text(a_17027);
    $("#a_save").text(a_17);
    $("#a_cancel").text(a_3);
    $("#a_HDMIoutresolution").text(a_19341);
    $("#a_HDMI2outresolution").text(a_19342);
    $("#a_screenpercent").text(a_19012);
    $("#a_enablepreauto").text(a_19398);
    $("#a_VGAintitle,.a_vgain, #a_samplevgain").text(a_16612);
    $("#a_imgshift").text(a_16609);
    $("#a_horoffset").text(a_16610);
    $("#a_veroffset").text(a_16611);
    $("#a_phasetitle").text(a_16613);
    $("#a_initposition").text(a_16607);
    $("#a_mobilespeed").text(a_16606);
    $("#a_visualangle").text(a_19285);
    $("#a_anglesmall").text(a_16248);
    $("#a_anglelarge").text(a_16249);
    $("#a_offsettitle").text(a_16642);
    //$("#a_samplevgain").text(a_16613);
    $("#a_indtortitle").text(a_16614);
}

function fomatFloat(src,pos){     
    return Math.round(src*Math.pow(10, pos))/Math.pow(10, pos);             

}
function cb_screen_bytimer(){
    cb_get_action(mScreenAction);
}
function cb_vgasend_bytimer(){
    cb_action_vgasend(mVgaAction);
}
function cb_action_vgasend(urihead)
{    
    urihead += "&time=" + new Date().getTime();
    $.ajax ({
        type: 'get',
        url: '/manager',
        data: urihead,
        dataType: 'text',
        success: function(data) {
        },
        error: function(xmlHttpRequest, errorThrown) {
            cb_networkerror(xmlHttpRequest, errorThrown);
        }
    });
}

function cb_put_suc(data, mode)
{
    var msgs = res_parse_rawtext(data);
	cb_if_auth_fail(msgs);
	if( cb_if_is_fail(msgs) )
	    view_message(a_16419, MSG_FAIL);
    else{
        cb_get_action("setptz&region=advanset&movespeed=" + $("#dragmobilespeedDiv .volspan").text()); 
        view_message(a_7479, MSG_OK);
    }
    checkIsApplyNeed();
    /*if (mode == "cfupdated") {
         dbussend_cfupdated();
    }*/
}

function pageEventActions(){
    $("#horoffset,#veroffset").bind("click",function(e){
        /*if($(this).val() == 0)
        {
            //Horizontal
            $("#horizontal_vga").show();
            $("#vertical_vga").hide();
        }
        else
            if($(this).val() == 1)
            {
                //Vertical
                $("#horizontal_vga").hide();
                $("#vertical_vga").show();
            }
        */
    });
    $("#horoffset").click();

    $("#a_save").click(function(){
        var speed = parseInt($("#dragmobilespeedDiv .volspan").text());
        $("#movespeed").val(speed);
        
        var angle = 170 - Math.round($("#dragvisualAngleDiv .volchangeDiv").width() / 200 * 40);
        $("#visualangle").val(angle);
        
        if(mHDMIMode != -1 && mHDMIMode != $("#himioutresolution").val()){
            cb_get_action("sethdmioutputmode&region=advanset&hdmi=hdmi1&mode=" + $("#himioutresolution").val());
            mHDMIMode = $("#himioutresolution").val();
        }
        if(mHDMI2Mode != -1 && mHDMI2Mode != $("#himi2outresolution").val()){
            cb_get_action("sethdmioutputmode&region=advanset&hdmi=hdmi2&mode=" + $("#himi2outresolution").val());
            mHDMI2Mode = $("#himi2outresolution").val();
        }
        
        var curinitpos = $("#initposition").val();
        if(curinitpos != mInitposition){
            mInitposition = curinitpos;
            $("#initposparam").val(mCmrparam[parseInt(curinitpos)]);
        }
        
        cb_put(req_items, "", 0);
    });
}

</script>

</body>

</html>
