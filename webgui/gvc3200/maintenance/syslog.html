<!-- saved from url=(0022)http://internet.e-mail -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<link href='../css/pageframe.css' type='text/css' rel='stylesheet'>
<link href='../css/black_frame.css' type='text/css' rel='stylesheet' id="framecssfile">
<script type='text/javascript' src='../js/jquery.tools.min.js'></script>	
<script type="text/javascript" src='../js/jquery.cookie.js'></script>
<script type="text/javascript" src='../js/jquery.validate.min.js'></script>
<script type="text/javascript" src='../js/jquery.stylish-select.min.js'></script>
<body id="framebody" class="maintenancebody">
<div id="mainbody" class="maindiv">
    <div class="navi"><span id="a_syslog">Syslog</span></div>
    <div id="statusdiv"></div>
	<form action="" method="get" id="Formvalidate">
		<fieldset>
            <div webtip="Syslog Protocol">
                <div class="noreboot"><span id="a_syslogptl">Syslog Protocol</span> :</div>
                <select id="syslogptl" name="syslogptl">
                    <option value="0">UDP</option>
                    <option value="1">SSL/TLS</option>
                </select>
            </div>
            <div webtip="Syslog Server">
                <div class="rebootitem"><span id="a_syslogser">Syslog Server</span> :</div>
                <input name="syslogserver" type="text" id="syslogserver" />
            </div>
            <div webtip="Syslog Level">
                <div class="noreboot"><span id="a_sysloglev">Syslog Level</span> :</div>
                <select id="sysloglevel" name="sysloglevel">
                    <option value="0">None</option>
                    <option value="1">Debug</option>
                    <option value="2">Info</option>
                    <option value="3">Warning</option>
                    <option value="4">Error</option>
                </select>
            </div>
            <div webtip="Send SIP Log">
                <div class="rebootitem"><span id="a_sendlog">Send SIP Log</span> :</div>
                <input name="sendlog" type="checkbox" id="sendlog" checked="checked"><span id="a_sendlogyes">Yes</span>
            </div>
            <div webtip="Syslog Filter">
                <div class="rebootitem"><span id="a_syslogfilter">Syslog Keyword Filter</span> :</div>
                <input name="syslogfilter" type="text" id="syslogfilter" />
            </div>
            <div webtip="H.323 Syslog Level">
                <div class="noreboot"><span id="a_h323sysloglev">H.323 Syslog Level</span> :</div>
                <select id="h323sysloglevel" name="h323sysloglevel">
                    <option value="0">Off</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                    <option value="6">6</option>
                    <option value="7">7</option>
                    <option value="8">8</option>
                    <option value="9">9</option>
                    <option value="10">10</option>
                </select>
            </div>
        </fieldset>
        <div class="savediv">
            <button id="a_save" type="button" class="savebtn">Save</button>
            <button id="a_cancel" type="reset" class="cancelbtn">Cancel</button>
        </div>
	</form>


</div>

<script type="text/javascript">
	var cookie_lang = $.cookie( "MyLanguage");
    var version = $.cookie("ver");
    if ( !cookie_lang ){
        cookie_lang = 'en';
	}
    if ( cookie_lang == 'zh' ){
        document.write("<script src='../js/jquery.validate.messages_cn.js'><\/script>");
	}
    if(!version)
        version = new Date().getTime();
    document.write("<script src='../js/public.js?ver=" + version + "'><\/script>");
    document.write("<script src='../lang/" + cookie_lang + ".js?ver=" + version + "'><\/script>");

</script>
<script type="text/javascript">
var req_items = new Array;
req_items.push(
    new ReqItem("syslogptl", "8402", ""),
    new ReqItem("syslogserver", "207", ""),
    new ReqItem("sysloglevel", "208", ""),
    new ReqItem("h323sysloglevel", "25055", ""),
    new ReqItem("sendlog", "1387", ""),
    new ReqItem("syslogfilter", "22129", "")
);

$(function(){
    setInitState();
    cb_get(req_items);
    pageEventActions();
});
function get_item_suc_callback(){
    
}
function setInitState(){
    translate_syslog();
    $("#syslogptl, #sysloglevel").sSelect();
    $("#h323sysloglevel").sSelect({ddMaxHeight:'200px'});
    $("#Formvalidate").validate({
		rules: { syslogserver: { maxlength: 64 } },
		errorElement: "em",
		success: function(label) { label.text(" ").addClass("success"); }
    });
}
function translate_syslog(){
    $("#a_syslogptl").text(a_12200);
    $("#a_syslog").text(a_4144);
    $("#a_syslogser").text(a_4135);
    $("#a_sysloglev").text(a_4136);
    /*$("#sysloglevel option:eq(0)").text(a_none);
    $("#sysloglevel option:eq(1)").text(a_none);
    $("#sysloglevel option:eq(2)").text(a_none);
    $("#sysloglevel option:eq(3)").text(a_none);
    $("#sysloglevel option:eq(4)").text(a_none);*/
    $("#a_h323sysloglev").text(a_19139);
    $("#h323sysloglevel option:eq(0)").text(a_8);
    $("#a_sendlog").text(a_19126);
    $("#a_sendlogyes").text(a_5);
    $("#a_syslogfilter").text(a_12201);
    $("#a_save").text(a_17);
    $("#a_cancel").text(a_3);
}
function cb_set_syslog(){
	var urihead = "action=setsyslogd&region=maintenance";
    urihead += "&time=" + new Date().getTime();
    $.ajax ({
        type: 'get',
        url:'/manager',
        data:urihead,
        dataType:'text',
        success:function(data) {
            
        },
        error:function(xmlHttpRequest, errorThrown) {
            cb_networkerror(xmlHttpRequest, errorThrown);
        }
    });
}
function pageEventActions(){
    $("#accessmethod").change(function(){
        cb_accesschange();
    });
    $("#a_save").click(function(){
        if( !$("#Formvalidate").valid() ){
            view_message(a_16442,MSG_FAIL);
            return false;
        }
        cb_put(req_items, "", 0);
        cb_set_syslog();
    });
}

</script>

</body>

</html>
